<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>History-Employments</title>
    <link rel="stylesheet" href="/css/styleCompanyWorkerMenuEmployers.css">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/10e7a38072.js" crossorigin="anonymous"></script>
</head>
<body>
<div class="back">
    <nav class="navbar">
        <a href="/companyWorker/homePage/<%=mailCompany%>">
            <img class="logo" src="/css/images/logo.PNG">
        </a>
        <ul>
            <li><a href="/companyWorker/editProfile/<%=mailCompany%>"><i class="fa fa-fw fa-home"></i>My Profile</a> </li>
            <li><a href="/companyWorker/allEmployer/<%=mailCompany%>"><i class="fa fa-fw fa-search"></i>Employers</a> </li>
            <li><a href="/companyWorker/allCompany/<%=mailCompany%>"><i class="fa fa-fw fa-search"></i>Contractor Workers</a> </li>
            <li><a href="/companyWorker/info/<%=mailCompany%>"><i class="fa fa-fw fa-pie-chart"></i>Statistics</a> </li>
            <li><a href="/contractorWorker/sendMessageDiplay/<%=mailCompany%>"><i class="fa fa-fw fa-envelope"></i>Messages</a> </li>
            <li><a href="/"><i class="fa fa-fw fa-sign-out"></i>Log Out</a> </li>
        </ul>
    </nav>
    <div class="input-box">
        <lable>    </lable>
        <div class="button" >
            <input type="btn" value="Add contractor" onclick="addCon()"  href="/companyWorker/styleCompanyWorkerMenuEmployers" readonly>
        </div>
    </div>

    <div class=box2>
        <div class="title">All Contractor Workers
            <small class="pull-right"><%= fEmployment.length%></small>
        </div>
        <div class="container">
            <div>
                    <div>  <label class="l">Find a contractor worker by email: </label></div>
                    <div>
                        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search by mail.." title="Type in a name">
                    </div>
                <br>
                <table class="table table-striped custab" id="table">
                    <%
                    if(fEmployment.length!=0) {
                        var i=1;
                    fEmployment.forEach(function(worker){
                    %>
                        <tr class="line">
                            <td><div class="input-box"><span class="input" ><%= worker.mail %></span></div></td>
                            <td><div class="input-box" ><span class="input"><%= worker.phone %></span></div></td>
                            <td><div class="input-box" ><a class="btn" href="/contractorWorker/contractorHomePage/<%=worker.mail%>">Actions</a></div></td>
                        </tr>
                    <% i++;}) %>
                    <% } else{ %>
                        <h3>No shifts found ..</h3>
                    <% } %>

                    <!-- <button class="sort" data-sort="status">sort by date</button> -->
                </table>
            </div>
        </div>
        <br>
        <br>
        <br>
    </div>
</div>
</body>


<script>
    function myFunction() {
        console.log('sdadasds');

        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("table");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }

        }
    }

    function addCon() {
        window.open("/contractorWorker/contractorSignUp", "_blank");
    }
    function  employerEditProfile(){
        console.log('fEmployment.length')

        var a=[];
        for(var i=0;i<fEmployment.length;i++)
        {
            a[i]=fEmployment.email
        }
        window.open("/contractorWorker/contractorProfile/${worker.email}", "_blank");

    }
</script>
</html>
